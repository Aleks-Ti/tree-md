# Nginx базовые понятия и команды

https://nginx.org/ru/docs/

## Логи

По умолчанию логи хранятся в файлах `/var/log/nginx/access.log` (лог всех запросов) и `/var/log/nginx/error.log` (лог ошибочных запросов).

Посмотреть содержимое этих файлов можно с помощью команды `sudo tail адрес_файла`. Файлы с логами — системные, поэтому для их просмотра к команде нужно добавлять инструкцию `sudo`.

Перед именем файла можно указать необязательный параметр `-n` число_строк, чтобы вывести нужное количество строк, отсчитывая их с конца файла. По умолчанию команда `tail` **выводит 10 последних строк файла.

Команда для просмотра лога последних запросов:

```bash
sudo tail /var/log/nginx/access.log
```

Пример вывода из лога access.log:

```bash
# IP клиента - - Дата/время Запрос Код ответа Размер ответа  User-Agent клиента
1.2.3.4 - - [24/Jul/2023:05:36:59 +0000] "GET / HTTP/1.1" 200 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36"
```

Пример вывода из лога error.log:

```bash
# Дата/Время Уровень ошибки ID процесса Описание ошибки
2023/07/24 07:18:21 [error] 719280#719280: *3315 connect() failed (111: Unknown error) while connecting to upstream, client: 1.2.3.4, server: 5.6.7.8, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:9000/", host: "taski.example.com", referrer: "https://taski.example.com"
```
