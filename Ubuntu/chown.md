# Команда chown в Linux

Команда chown используется для изменения владельца (user) и/или группы (group) файлов и папок.

`Шпаргалка по ключам`

```yml
| Опция         | Описание
| -R            | Рекурсивное изменение владельца/группы.
| --reference   | Копировать владельца и группу с другого файла.
| -v            | Подробный вывод изменений.
| -c            | Показать только изменённые файлы.
```

## Навигация

- [Синтаксис](#синтаксис)
- [Основные опции](#основные-опции)
- [Изменение владельца](#изменение-владельца)
- [Изменение группы](#изменение-группы)
- [Изменение владельца и группы одновременно](#изменение-владельца-и-группы-одновременно)
- [Текущий пользователь/группа](#текущий-пользовательгруппа)
- [Использование --reference](#использование---reference)
- [Примеры](#примеры)
- - [Изменить только владельца для папки и её содержимого](#изменить-только-владельца-для-папки-и-её-содержимого)
- - [Изменить только группу для файла](#изменить-только-группу-для-файла)
- - [Сделать владельцем текущего пользователя](#сделать-владельцем-текущего-пользователя)
- - [Копировать владельца/группу с другого файла](#копировать-владельцагруппу-с-другого-файла)
- [Проверка изменений](#проверка-изменений)

## Синтаксис

```bash
chown [опции] [новый_владелец][:новая_группа] файл
```

* `новый_владелец` – имя пользователя, которому будет принадлежать файл.
* `новая_группа` – имя группы, к которой будет принадлежать файл.
* `:` – разделитель между владельцем и группой. Можно заменить на `.` в некоторых системах.
* `файл` – файл или папка, для которых нужно изменить владельца/группу.

## Основные опции

* `-R` – рекурсивно менять владельца/группу для всех вложенных файлов и папок.
* `--reference=другой_файл` – задать владельца/группу на основе другого файла.
* `-c` – отображать изменения (verbose) только для изменённых файлов.
* `-v` – отображать изменения для всех файлов.

## Изменение владельца

Пример:

```bash
chown user file.txt
```

* Файл `file.txt` будет принадлежать пользователю `user`.

Рекурсивное изменение:

```bash
chown -R user /path/to/directory
```

* Изменяет `владельца` на пользователя `user` для всех файлов и папок внутри `/path/to/directory`.

## Изменение группы

Пример:

```bash
chown :group file.txt
```

* Файл `file.txt` будет принадлежать группе `group`.

Рекурсивное изменение:

```bash
chown -R :group /path/to/directory
```

* Меняет `группу` для всех файлов и папок внутри `/path/to/directory`.

## Изменение владельца и группы одновременно

Пример:

```bash
chown user:group file.txt
```

* Файл `file.txt` будет принадлежать пользователю `user` и группе `group`.

Рекурсивное изменение:

```bash
chown -R user:group /path/to/directory
```

## Текущий пользователь/группа

Если нужно оставить группу без изменений:

```bash
chown user: file.txt
```

* Здесь после `:` группа не указана, поэтому она остаётся прежней.

Если нужно оставить владельца без изменений:

```bash
chown :group file.txt
```

* Здесь перед `:` владелец не указан, поэтому он остаётся прежним.

## Использование --reference

Копирует владельца и группу с другого файла:

```bash
chown --reference=example.txt file.txt
```

* Устанавливает `владельца` и `группу` файла `file.txt` такими же, как у `example.txt`.

## Примеры

### Установить владельца и группу для файла

```bash
chown alice:developers project.txt
```

### Изменить только владельца для папки и её содержимого

```bash
chown -R bob /var/www/html
```

### Изменить только группу для файла

```bash
chown :admin config.cfg
```

### Сделать владельцем текущего пользователя

```bash
chown $USER file.txt
```

### Копировать владельца/группу с другого файла

```bash
chown --reference=source.txt target.txt
```

## Проверка изменений

После изменения используй команду `ls -l`, чтобы проверить владельца и группу:

```bash
ls -l file.txt
```

Пример вывода:

```css
-rw-r--r-- 1 alice developers 1024 Nov 21  file.txt
```

Владелец: `alice`.
Группа: `developers`.

